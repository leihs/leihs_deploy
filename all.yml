leihs_send_mails: No

### reverse proxy configuration ###############################################

leihs_virtual_hosts:
- hostname: "localhost"
  ip: "localhost"
  logfile_infix: "localhost"
  force_redirect_to_https: no
- hostname: NULL
  ip: '*'
  ssl_certificate_file: /etc/ssl/certs/ssl-cert-snakeoil.pem
  ssl_certificate_key_file: /etc/ssl/private/ssl-cert-snakeoil.key
  force_redirect_to_https: no

shibboleth_sign_in_enabled: No

### database backup ############################################################

db_backup_dir: /leihs/var/db-backups
db_backup_nigthly_enabled: No
db_backup_keep_days: 10
db_backup_on_deploy: No

### database service configuration #############################################

leihs_database_ruby_version: 2.4.2
leihs_database_user: leihs-database
leihs_database_path: /leihs/database
leihs_database_clean_slate: false


### legacy service configuration ###############################################

leihs_legacy_ruby_version: 2.4.2
leihs_legacy_clean_slate: false
leihs_legacy_user: leihs-legacy
leihs_legacy_max_threads_per_worker: 2
leihs_leagcy_workers: '{{ansible_processor_vcpus}}'

### micro services configuration ###############################################

leihs_legacy_port: '3210'
leihs_admin_port: '3220'
leihs_procure_port: '3230'
leihs_procure_client_port: '3231'
leihs_my_port: '3240'

################################################################################

leihs_master_secret: "{{ lookup('password', inventory_dir + '/' + 'master_secret.txt chars=ascii_letters,digits,hexdigits length=40') }}"

################################################################################

database:
  host: localhost
  port: 5432
  username: root
  password: root
  database: leihs

manipulate_data_reset_all_login_fields: false
manipulate_data_revoke_all_admins: false

### building/compiling #########################################################

build_host: 'localhost'
build_host_java: '{{ build_host }}'
build_host_nodejs: '{{ build_host }}'

# setting this to `true` will disable all build artefact caching
force_rebuild: false
debug_build_caching: true # DEBUG: set this to false when everything works
